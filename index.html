<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Matrix Calculator</title>

<style>

* {

margin: 0;

padding: 0;

box-sizing: border-box;

}



body {

font-family: 'Courier New', monospace;

background: #000;

display: flex;

justify-content: center;

align-items: center;

min-height: 100vh;

padding: 20px;

overflow: hidden;

position: relative;

}



/* Matrix Rain Background */

.matrix-bg {

position: fixed;

top: 0;

left: 0;

width: 100%;

height: 100%;

z-index: 1;

pointer-events: none;

}



.matrix-column {

position: absolute;

top: -100px;

color: blue;

font-size: 14px;

line-height: 1.2;

animation: matrixRain linear infinite;

opacity: 0.7;

}



@keyframes matrixRain {

0% {

transform: translateY(-100px);

opacity: 1;

}

100% {

transform: translateY(100vh);

opacity: 0;

}

}



.calculator {

background: blue;

backdrop-filter: blur(2px);

border: 2px solid #00ff41;

border-radius: 15px;

padding: 25px;

box-shadow:

0 0 5px rgba(0, 255, 65, 0.3),

inset 0 0 5px rgba(0, 255, 65, 0.02);

width: 320px;

z-index: 10;

position: relative;

animation: matrixGlow 3s ease-in-out infinite alternate;

}



@keyframes matrixGlow {

0% {

box-shadow: #ff0000,

inset 
#ff0000;

}

100% {

box-shadow:

#ff0000,#ff0000
,inset #ff0000;

}

}



.display {

background: #ff0000;

backdrop-filter: blur(1px);

border: 1px solid #00ff41;

border-radius: 8px;

padding: 20px;

margin-bottom: 20px;

text-align: right;

min-height: 80px;

display: flex;

flex-direction: column;

justify-content: center;

position: relative;

overflow: hidden;

}



.display::before {

content: '';

position: absolute;

top: 0;

left: -100%;

width: 100%;

height: 100%;

background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.3), transparent);

animation: scanLine 2s linear infinite;

}



@keyframes scanLine {

0% { left: -100%; }

100% { left: 100%; }

}



.display-previous {

color: rgba(0, 255, 65, 0.7);

font-size: 14px;

margin-bottom: 5px;

min-height: 20px;

font-family: 'Courier New', monospace;

}



.display-current {

color: #00ff41;

font-size: 32px;

font-weight: bold;

word-wrap: break-word;

min-height: 40px;

font-family: 'Courier New', monospace;

text-shadow: 0 0 10px #00ff41;

animation: textPulse 1.5s ease-in-out infinite;

}



@keyframes textPulse {

0%, 100% {

text-shadow: 0 0 10px #00ff41;

opacity: 1;

}

50% {

text-shadow: 0 0 20px #00ff41, 0 0 30px #00ff41;

opacity: 0.8;

}

}



.buttons {

display: grid;

grid-template-columns: repeat(4, 1fr);

gap: 12px;

}



button {

height: 55px;

border: 1px solid #00ff41;

border-radius: 8px;

font-size: 16px;

font-weight: bold;

cursor: pointer;

transition: all 0.3s ease;

font-family: 'Courier New', monospace;

background: rgba(0, 0, 0, 0.02);

backdrop-filter: blur(1px);

color: #00ff41;

position: relative;

overflow: hidden;

}



button::before {

content: '';

position: absolute;

top: 0;

left: -100%;

width: 100%;

height: 100%;

background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.4), transparent);

transition: left 0.5s;

}



button:hover::before {

left: 100%;

}



button:hover {

background: rgba(0, 255, 65, 0.05);

backdrop-filter: blur(2px);

box-shadow:

0 0 5px rgba(0, 255, 65, 0.4),

inset 0 0 5px rgba(0, 255, 65, 0.05);

transform: scale(1.05);

text-shadow: 0 0 10px #00ff41;

}



button:active {

transform: scale(0.95);

animation: matrixClick 0.3s ease-out;

}



@keyframes matrixClick {

0% {

box-shadow: 0 0 2px rgba(0, 255, 65, 0.5);

}

50% {

box-shadow: 0 0 8px rgba(0, 255, 65, 0.6), 0 0 12px rgba(0, 255, 65, 0.3);

}

100% {

box-shadow: 0 0 2px rgba(0, 255, 65, 0.5);

}

}



.btn-number:hover {

background: rgba(0, 50, 0, 0.9);

}



.btn-operator:hover {

background: rgba(0, 60, 20, 0.9);

color: #40ff80;

}



.btn-clear:hover {

background: rgba(20, 60, 0, 0.9);

color: #80ff40;

}



.btn-equals {

grid-column: span 1;

}



.btn-equals:hover {

background: rgba(0, 80, 40, 0.9);

color: #80ff80;

}



.btn-zero {

grid-column: span 1;

}



/* Matrix characters for decoration */

.matrix-char {

position: absolute;

color: #00ff41;

font-family: 'Courier New', monospace;

pointer-events: none;

animation: fadeInOut 3s ease-in-out infinite;

}



@keyframes fadeInOut {

0%, 100% { opacity: 0; }

50% { opacity: 0.3; }

}

</style>

</head>

<body>

<div class="matrix-bg" id="matrixBg"></div>


<div class="calculator">

<div class="display">

<div class="display-previous" id="previousDisplay"></div>

<div class="display-current" id="currentDisplay">0</div>

</div>

<div class="buttons">

<button class="btn-clear" onclick="clearAll()">AC</button>

<button class="btn-clear" onclick="clearEntry()">CE</button>

<button class="btn-operator" onclick="deleteLast()">⌫</button>

<button class="btn-operator" onclick="setOperation('/')">÷</button>


<button class="btn-number" onclick="appendNumber('7')">7</button>

<button class="btn-number" onclick="appendNumber('8')">8</button>

<button class="btn-number" onclick="appendNumber('9')">9</button>

<button class="btn-operator" onclick="setOperation('*')">×</button>


<button class="btn-number" onclick="appendNumber('4')">4</button>

<button class="btn-number" onclick="appendNumber('5')">5</button>

<button class="btn-number" onclick="appendNumber('6')">6</button>

<button class="btn-operator" onclick="setOperation('-')">−</button>


<button class="btn-number" onclick="appendNumber('1')">1</button>

<button class="btn-number" onclick="appendNumber('2')">2</button>

<button class="btn-number" onclick="appendNumber('3')">3</button>

<button class="btn-operator" onclick="setOperation('+')">+</button>


<button class="btn-number btn-zero" onclick="appendNumber('0')">0</button>

<button class="btn-number" onclick="appendDecimal()">.</button>

<button class="btn-number" onclick="appendNumber('')">00</button>

<button class="btn-equals" onclick="calculate()">=</button>

</div>

</div>



<script>

let currentInput = '0';

let previousInput = '';

let operation = null;

let shouldResetDisplay = false;



const currentDisplay = document.getElementById('currentDisplay');

const previousDisplay = document.getElementById('previousDisplay');



// Matrix Rain Effect

function createMatrixRain() {

const matrixBg = document.getElementById('matrixBg');

const chars = 'アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';


function createColumn() {

const column = document.createElement('div');

column.className = 'matrix-column';

column.style.left = Math.random() * window.innerWidth + 'px';

column.style.animationDuration = (Math.random() * 3 + 2) + 's';

column.style.fontSize = (Math.random() * 10 + 10) + 'px';


let text = '';

const length = Math.random() * 20 + 10;

for (let i = 0; i < length; i++) {

text += chars.charAt(Math.floor(Math.random() * chars.length)) + '<br>';

}

column.innerHTML = text;


matrixBg.appendChild(column);


setTimeout(() => {

if (column.parentNode) {

column.parentNode.removeChild(column);

}

}, 5000);

}


setInterval(createColumn, 100);

}



// Add random matrix characters around calculator

function addMatrixDecorations() {

for (let i = 0; i < 10; i++) {

setTimeout(() => {

const char = document.createElement('div');

char.className = 'matrix-char';

char.textContent = 'アカサタナハマヤラワ'[Math.floor(Math.random() * 10)];

char.style.left = Math.random() * window.innerWidth + 'px';

char.style.top = Math.random() * window.innerHeight + 'px';

char.style.fontSize = (Math.random() * 20 + 15) + 'px';

document.body.appendChild(char);


setTimeout(() => {

if (char.parentNode) {

char.parentNode.removeChild(char);

}

}, 3000);

}, i * 300);

}

}



function updateDisplay() {

currentDisplay.textContent = currentInput;

if (operation && previousInput) {

const operatorSymbol = {

'+': '+',

'-': '−',

'*': '×',

'/': '÷'

};

previousDisplay.textContent = `${previousInput} ${operatorSymbol[operation]}`;

} else {

previousDisplay.textContent = '';

}

}



function appendNumber(number) {

if (shouldResetDisplay) {

currentInput = '0';

shouldResetDisplay = false;

}


if (currentInput === '0') {

currentInput = number;

} else {

currentInput += number;

}

updateDisplay();

addMatrixDecorations();

}



function appendDecimal() {

if (shouldResetDisplay) {

currentInput = '0';

shouldResetDisplay = false;

}


if (currentInput.indexOf('.') === -1) {

currentInput += '.';

}

updateDisplay();

}



function setOperation(op) {

if (operation && !shouldResetDisplay) {

calculate();

}


operation = op;

previousInput = currentInput;

shouldResetDisplay = true;

updateDisplay();

addMatrixDecorations();

}



function calculate() {

if (!operation || shouldResetDisplay) return;



const prev = parseFloat(previousInput);

const current = parseFloat(currentInput);

let result;



switch (operation) {

case '+':

result = prev + current;

break;

case '-':

result = prev - current;

break;

case '*':

result = prev * current;

break;

case '/':

if (current === 0) {

currentInput = 'ERROR';

operation = null;

previousInput = '';

shouldResetDisplay = true;

updateDisplay();

return;

}

result = prev / current;

break;

default:

return;

}



currentInput = result.toString();

operation = null;

previousInput = '';

shouldResetDisplay = true;

updateDisplay();

addMatrixDecorations();

}



function clearAll() {

currentInput = '0';

previousInput = '';

operation = null;

shouldResetDisplay = false;

updateDisplay();

}



function clearEntry() {

currentInput = '0';

updateDisplay();

}



function deleteLast() {

if (currentInput.length > 1) {

currentInput = currentInput.slice(0, -1);

} else {

currentInput = '0';

}

updateDisplay();

}



// Keyboard support

document.addEventListener('keydown', function(event) {

const key = event.key;


if (key >= '0' && key <= '9') {

appendNumber(key);

} else if (key === '.') {

appendDecimal();

} else if (key === '+' || key === '-' || key === '*' || key === '/') {

setOperation(key);

} else if (key === 'Enter' || key === '=') {

event.preventDefault();

calculate();

} else if (key === 'Escape') {

clearAll();

} else if (key === 'Backspace') {

deleteLast();

}

});



// Initialize

updateDisplay();

createMatrixRain();

setInterval(addMatrixDecorations, 2000);

</script>

</body>

</html>
